var canvas=document.querySelector(".canvas__canvas"),ctx=canvas.getContext("2d"),colors=document.getElementsByName("colors"),inputNumber=document.querySelector(".counter__input"),btnLess=document.querySelector(".counter__btn--less"),btnMore=document.querySelector(".counter__btn--more"),btnRestart=document.querySelector(".draw__btn--restart"),drawBlock=document.querySelector(".draw"),myColor="red";radius=5,maxCount=3,x=[],y=[],pi=Math.PI,btnLess.onclick=function(){inputNumber.value>2&&inputNumber.value--},btnMore.onclick=function(){inputNumber.value++},btnRestart.onclick=function(){ctx.clearRect(0,0,300,300),btnLess.disabled=!1,btnMore.disabled=!1,inputNumber.value=2,maxCount=3,x.length=0,y.length=0,colors[0].checked=!0,myColor="red",this.disabled=!0};for(var i=0;i<colors.length;i++)colors[i].onchange=function(){return this.checked?void(myColor=this.value):void 0};canvas.onclick=function(t){maxCount=parseInt(inputNumber.value,10)+1,btnRestart.disabled&&(btnRestart.disabled=!1),btnLess.disabled||(btnLess.disabled=!0),btnMore.disabled||(btnMore.disabled=!0);var e=x.length;if(0==e)x[0]=t.offsetX,y[0]=t.offsetY,ctx.beginPath(),ctx.arc(x[0],y[0],radius,0,2*pi),ctx.fillStyle=myColor,ctx.fill();else if(e<maxCount){x[e]=t.offsetX,y[e]=t.offsetY,ctx.beginPath(),ctx.arc(x[e],y[e],radius,0,2*pi),ctx.fillStyle=myColor,ctx.fill();for(var o=0;e>o;o++)ctx.beginPath(),ctx.moveTo(x[e],y[e]),ctx.lineTo(x[o],y[o]),ctx.strokeStyle=myColor,ctx.closePath(),ctx.stroke()}else if(e==maxCount){for(var o=0;e-1>o;o++)x[o]=x[o+1],y[o]=y[o+1];x[e-1]=t.offsetX,y[e-1]=t.offsetY,ctx.beginPath(),ctx.arc(x[e-1],y[e-1],radius,0,2*pi),ctx.fillStyle=myColor,ctx.fill();for(var o=0;e>o;o++)ctx.beginPath(),ctx.moveTo(x[e-1],y[e-1]),ctx.lineTo(x[o],y[o]),ctx.strokeStyle=myColor,ctx.stroke()}};